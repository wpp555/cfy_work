<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
</head>
<body>
	<div id="main" style="width: 600px;height: 400px">

	</div>
	<form action="" class="form-inline">
		<input type="text" class="form-control" value="20160101" id="beginTime">
		<input type="text" class="form-control" value="20170101" id="endTime">
	</form>
	<button id="change">更换数据</button>
	<script src="../assert/js/jquery-3.2.1.min.js"></script>
	<script src="echarts/echarts.js"></script>
	<script src="../assert/js/moment/moment.min.js"></script>
	<script src="../assert/js/randomNum.js"></script>
	<script src="../assert/js/randomArray.js"></script>
	<script src="../assert/js/timeMinusArray.js"></script>
	<script>
		var myChart = echarts.init(document.getElementById('main'));
		var option = {
				title: {
					text: '王者荣耀五种英雄胜率',
					subtext: '本数据纯属虚构',
					left: 'center' //居中text
				},
				tooltip : {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c} ({d}%)"
				},
				legend: {

					//图例列表的布局朝向
					orient: 'vertical',

					//图例组件离容器左侧的距离
					left: 'left',
					data: ['打野','肉','辅助','射手','法师']
				},
				series : [
					{
						name: '英雄类别',

						//显示饼图
						type: 'pie',

						/*
						* 饼图的半径，数组的第一项是内半径，第二项是外半径。
						* 支持设置半分比，相对于容器宽高中较小的一项的一半。
						* 可以将内半径设大显示圆环图
						* */
						radius: '55%',

						/*
						* 系列中的数据内容数组。数组项可以为单个数值，如：
						*  [12, 34, 56, 10, 23]
						*  也可以是二维数组等，需要使用visualMap组件
						*
						* */
						data:[
							{value:235, name:'打野'},
							{value:274, name:'肉'},
							{value:310, name:'辅助'},
							{value:335, name:'射手'},
							{value:400, name:'法师'}
						]
					}
				]
		};

		//使用刚指定的配置项和数据显示图标
		myChart.setOption(option);

		$(function() {

			$('#change').on('click', function() {
				var oldData = myChart.getOption().series[0].data,
					newData = getRandomArray({
						length: oldData.length,
						min: 1,
						max: 100
					});
				for(var i = 0; i < oldData.length; i++) {
					oldData[i].value = newData[i]
				}
				console.log(oldData);

				myChart.setOption({
					series: [
						{
							data: oldData
						}
					],
				});
			});
		});

		//饼图数据

	</script>
	<h4>饼图数据格式：</h4>
	<p>
		<code>
			data: [
				{value: 35, name: '打野'},
				{value: 45, name: '肉'},
				{value: 45, name: '辅助'},
				{value: 45, name: '射手'},
				{value: 45, name: '法师'}
			]
		</code>
	</p>

</body>
</html>